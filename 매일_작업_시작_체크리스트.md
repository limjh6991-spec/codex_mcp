# 매일 작업 시작 전 체크리스트

## 1) 환경/버전 점검
아래 표의 항목을 순서대로 확인하세요 (Linux 기준).

| 항목 | 체크 명령어 / 위치 | 확인 내용 |
| --- | --- | --- |
| ✅ OS / Shell | `lsb_release -a || cat /etc/os-release`; `echo $SHELL` | OS 버전 및 기본 쉘 확인 |
| ✅ Python 환경 | `python --version`; `which python` | RL/도구용 시스템 파이썬 3.12.x 확인 |
| ✅ Conda/venv | `conda env list || echo 'no conda'`; `echo $VIRTUAL_ENV` | 올바른 venv/conda 활성화 여부 |
| ✅ GPU / 드라이버 | `nvidia-smi` | GPU 인식 및 드라이버 버전 |
| ✅ Isaac Sim | `scripts/isaac_precheck.sh` 실행; `$ISAAC_SIM_ROOT/python.sh -V` | 번들 Python(보통 3.11) 사용 가능 여부, import OK 여부 |
| ✅ ROS2 (옵션) | `ros2 doctor` | ROS2 환경/네트워크 정상 |
| ✅ VS Code MCP | `.vscode/settings.json` | MCP 서버 경로/transport(stdio) 등록 확인 |

참고: Isaac는 번들 Python(3.11)과 시스템 Python(3.12)이 다릅니다. Isaac 모듈은 번들로, RL/테스트는 시스템(또는 venv)로 분리해 사용하세요.

## 2) 문서/변경 로그 빠른 훑어보기
- [ ] docs/오늘_작업_요약.md
- [ ] logs/YYYY-MM-DD/progress.log (전일/금일 계획)
- [ ] CHANGELOG.md (주요 변경 반영 확인)

## 3) 테스트/런 타스크
- [ ] 부분 테스트 (에스컬레이션 등)
  ```bash
  pytest -k deadline_escalation -q
  ```
- [ ] 전체 테스트
  ```bash
  pytest -q
  ```
- [ ] IPC 게이트웨이 스모크
  ```bash
  python scripts/ipc_policy_gateway.py --deadline-ms 1.0 --deadline-escalate-threshold 3 --degrade-mode-ratio 0.5 --log-dir /tmp/gw_start
  ```

## 4) Isaac GUI/Headless 확인 (필요 시)
- [ ] 간단 GUI 루프로 USD 로드/attach 확인
  ```bash
  /home/roarm_m3/isaac_sim/python.sh scripts/view_roarm.py --usd /abs/path/roarm.usd --prim /World/roarm --warmup 5
  ```

## 5) 프로젝트 구조/자산 빠른 점검
| 항목 | 경로 예시 | 확인 내용 |
| --- | --- | --- |
| 📁 루트 폴더 | `~/codex_mcp/` | 경로 일관성, 가상환경/태스크 정상 작동 |
| 📁 Isaac 스크립트 | `scripts/view_roarm.py`, `sim/` | USD 로드/렌더 스모크 가능 |
| 📁 MCP 서버 | `mcp_servers/isaac_controller_server.py` | MCP 서버 구동/툴 스키마 정상 |
| ⚙️ 설정파일 | `.env`, `.vscode/settings.json` | 경로/포트/인터프리터 확인 |
| 🧠 모델/Asset | `policies/`, `configs/roarm_joints.yaml`, `assets/*.usd` | 최신 체크포인트/자산 경로 확인 |

## 6) 최근 에러/로그 확인 (있을 경우)
| 항목 | 위치 / 명령어 | 확인 내용 |
| --- | --- | --- |
| 🧩 Python Traceback | `logs/python_error.log` (있다면) | 최근 예외 원인 확인 |
| 🧠 Isaac Sim 로그 | `~/.nvidia-omniverse/logs/IsaacSim.log` | Articulation/Scene Graph 경고 확인 |
| ⚙️ MCP 서버 로그 | 각 서버별 `logs/` | transport/포트/권한 이슈 |
| 🧰 Git 상태 | `git status`; `git diff` | 미커밋 변경 유무 |
| 🧾 환경진단 스크립트 | `scripts/roarm_env_diag.sh` | 전체 환경 출력 후 저장(`logs/DATE/env_diag_*.txt`) |

## 7) 다음 단계(재개 작업) 템플릿
| 목표 | 실행파일/위치 | 메모 |
| --- | --- | --- |
| 강화학습 파이프라인 재개 | `training/train_ppo.py` | 지난 체크포인트/로그 확인 |
| MCP 통합 테스트 | `mcp_servers/isaac_controller_server.py` | VS Code tasks/런칭 스크립트 활용 |
| Blender 씬 자동 생성(옵션) | 외부 Blender MCP | SD 결과 import 테스트 |

## 8) 오늘 작업 계획 작성
- [ ] logs/YYYY-MM-DD/progress.log 생성/업데이트
- [ ] 오늘 목표/리스크/완료조건 표기

---
자동화 아이디어: VS Code Task → "Isaac Precheck", CI precheck 워크플로우 모니터링